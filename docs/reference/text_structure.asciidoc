[[reference-text_structure]]
== client.textStructure

////////
===========================================================================================================================
||                                                                                                                       ||
||                                                                                                                       ||
||                                                                                                                       ||
||        ██████╗ ███████╗ █████╗ ██████╗ ███╗   ███╗███████╗                                                            ||
||        ██╔══██╗██╔════╝██╔══██╗██╔══██╗████╗ ████║██╔════╝                                                            ||
||        ██████╔╝█████╗  ███████║██║  ██║██╔████╔██║█████╗                                                              ||
||        ██╔══██╗██╔══╝  ██╔══██║██║  ██║██║╚██╔╝██║██╔══╝                                                              ||
||        ██║  ██║███████╗██║  ██║██████╔╝██║ ╚═╝ ██║███████╗                                                            ||
||        ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝ ╚═╝     ╚═╝╚══════╝                                                            ||
||                                                                                                                       ||
||                                                                                                                       ||
||    This file is autogenerated, DO NOT send pull requests that changes this file directly.                             ||
||    You should update the script that does the generation, which can be found in:                                      ||
||    https://github.com/elastic/elastic-client-generator-js                                                             ||
||                                                                                                                       ||
||    You can run the script with the following command:                                                                 ||
||       npm run elasticsearch -- --version <version>                                                                    ||
||                                                                                                                       ||
||                                                                                                                       ||
||                                                                                                                       ||
===========================================================================================================================
////////
++++
<style>
.lang-ts a.xref {
  text-decoration: underline !important;
}
</style>
++++


[discrete]
[[client.textStructure.findFieldStructure]]
== `client.textStructure.findFieldStructure()`

Finds the structure of a text field in an index.

{ref}/find-field-structure.html[{es} documentation]
[discrete]
=== Function signature

[source,ts]
----
(request: TextStructureFindFieldStructureRequest, options?: TransportRequestOptions) => Promise<TextStructureFindFieldStructureResponse>
----

[discrete]
[[client.textStructure.findMessageStructure]]
== `client.textStructure.findMessageStructure()`

Finds the structure of a list of messages. The messages must contain data that is suitable to be ingested into Elasticsearch.

{ref}/find-message-structure.html[{es} documentation]
[discrete]
=== Function signature

[source,ts]
----
(request: TextStructureFindMessageStructureRequest, options?: TransportRequestOptions) => Promise<TextStructureFindMessageStructureResponse>
----

[discrete]
[[client.textStructure.findStructure]]
== `client.textStructure.findStructure()`

Finds the structure of a text file. The text file must contain data that is suitable to be ingested into Elasticsearch.

{ref}/find-structure.html[{es} documentation]
[discrete]
=== Function signature

[source,ts]
----
(request: TextStructureFindStructureRequest, options?: TransportRequestOptions) => Promise<TextStructureFindStructureResponse>
----

[discrete]
=== Request

[source,ts,subs=+macros]
----
interface TextStructureFindStructureRequest<TJsonDocument = unknown> {
  charset?: string
  column_names?: string
  delimiter?: string
  ecs_compatibility?: string
  explain?: boolean
  format?: string
  grok_pattern?: <<GrokPattern>>
  has_header_row?: boolean
  line_merge_size_limit?: <<uint>>
  lines_to_sample?: <<uint>>
  quote?: string
  should_trim_fields?: boolean
  timeout?: <<Duration>>
  timestamp_field?: <<Field>>
  timestamp_format?: string
  text_files?: TJsonDocument[]
}

----


[discrete]
=== Response

[source,ts,subs=+macros]
----
interface TextStructureFindStructureResponse {
  charset: string
  has_header_row?: boolean
  has_byte_order_marker: boolean
  format: string
  field_stats: Record<<<Field>>, TextStructureFindStructureFieldStat>
  sample_start: string
  num_messages_analyzed: <<integer>>
  mappings: <<MappingTypeMapping>>
  quote?: string
  delimiter?: string
  need_client_timezone: boolean
  num_lines_analyzed: <<integer>>
  column_names?: string[]
  explanation?: string[]
  grok_pattern?: <<GrokPattern>>
  multiline_start_pattern?: string
  exclude_lines_pattern?: string
  java_timestamp_formats?: string[]
  joda_timestamp_formats?: string[]
  timestamp_field?: <<Field>>
  should_trim_fields?: boolean
  ingest_pipeline: <<IngestPipelineConfig>>
}

----


[discrete]
[[client.textStructure.testGrokPattern]]
== `client.textStructure.testGrokPattern()`

Tests a Grok pattern on some text.

{ref}/test-grok-pattern.html[{es} documentation]
[discrete]
=== Function signature

[source,ts]
----
(request: TextStructureTestGrokPatternRequest, options?: TransportRequestOptions) => Promise<TextStructureTestGrokPatternResponse>
----

[discrete]
=== Request

[source,ts,subs=+macros]
----
interface TextStructureTestGrokPatternRequest extends <<RequestBase>> {
  ecs_compatibility?: string
  grok_pattern: <<GrokPattern>>
  text: string[]
}

----


[discrete]
=== Response

[source,ts,subs=+macros]
----
interface TextStructureTestGrokPatternResponse {
  matches: TextStructureTestGrokPatternMatchedText[]
}

----


